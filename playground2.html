<!DOCTYPE html>
<html>
<head>
    <script src="http://d3js.org/d3.v3.min.js"  charset="utf-8"></script>
	<script src="https://cdn.jsdelivr.net/npm/d3@4.13.0/build/d3.min.js" charset="utf-8"></script>
	<script src="https://cdn.jsdelivr.net/npm/taucharts@2/dist/taucharts.min.js" type="text/javascript"></script>
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/taucharts@2/dist/taucharts.min.css">
    <style type="text/css">
html,
body,
#bar {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
}

#bar>svg {
  display: block;
}
    </style>
</head>
<body>
    <div id="bar"></div>
    <script>
var barChartdata;

fetch('http://10.0.74.239:8080/api2/barchart/TEGALREJO/STRATA-II')
  .then(res => res.json())
  .then(data => barChartdata = data)
  .then(() => barchart())
console.log(barChartdata)

function barchart(){
var chart = new Taucharts.Chart({
  data: barChartdata,
  type: 'bar',
  x: 'tahun',
  y: 'count',
  color: 'gender',
  plugins: [Taucharts.api.plugins.get('legend')()]
});
chart.renderTo('#bar');
}
    
    </script>
</body>
</html>